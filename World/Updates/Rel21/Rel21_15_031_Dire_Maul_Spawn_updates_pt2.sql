-- ----------------------------------------------------------------
-- This is an attempt to create a full transactional MaNGOS update
-- Now compatible with newer MySql Databases (v1.5)
-- ----------------------------------------------------------------
DROP PROCEDURE IF EXISTS `update_mangos`; 

DELIMITER $$

CREATE DEFINER=`root`@`localhost` PROCEDURE `update_mangos`()
BEGIN
    DECLARE bRollback BOOL  DEFAULT FALSE ;
    DECLARE CONTINUE HANDLER FOR SQLEXCEPTION SET `bRollback` = TRUE;

    -- Current Values (TODO - must be a better way to do this)
    SET @cCurVersion := (SELECT `version` FROM `db_version` ORDER BY `version` DESC, `STRUCTURE` DESC, `CONTENT` DESC LIMIT 0,1);
    SET @cCurStructure := (SELECT `structure` FROM `db_version` ORDER BY `version` DESC, `STRUCTURE` DESC, `CONTENT` DESC LIMIT 0,1);
    SET @cCurContent := (SELECT `content` FROM `db_version` ORDER BY `version` DESC, `STRUCTURE` DESC, `CONTENT` DESC LIMIT 0,1);

    -- Expected Values
    SET @cOldVersion = '21'; 
    SET @cOldStructure = '15'; 
    SET @cOldContent = '030';

    -- New Values
    SET @cNewVersion = '21';
    SET @cNewStructure = '15';
    SET @cNewContent = '031';
                            -- DESCRIPTION IS 30 Characters MAX    
    SET @cNewDescription = 'Dire Maul Spawn updates pt2';

                        -- COMMENT is 150 Characters MAX
    SET @cNewComment = 'Dire Maul Spawn updates pt2';

    -- Evaluate all settings
    SET @cCurResult := (SELECT `description` FROM `db_version` ORDER BY `version` DESC, `STRUCTURE` DESC, `CONTENT` DESC LIMIT 0,1);
    SET @cOldResult := (SELECT `description` FROM `db_version` WHERE `version`=@cOldVersion AND `structure`=@cOldStructure AND `content`=@cOldContent);
    SET @cNewResult := (SELECT `description` FROM `db_version` WHERE `version`=@cNewVersion AND `structure`=@cNewStructure AND `content`=@cNewContent);

    IF (@cCurResult = @cOldResult) THEN    -- Does the current version match the expected version
        -- APPLY UPDATE
        START TRANSACTION;
        -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -
        -- -- PLACE UPDATE SQL BELOW -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
        -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -

INSERT INTO `creature` (`id`,`map`,`spawnMask`,`modelid`,`equipment_id`,`position_x`,`position_y`,`position_z`,`orientation`,`spawntimesecs`,`spawndist`,`currentwaypoint`,`curhealth`,`curmana`,`DeathState`,`MovementType`) VALUES
(13022,429,1,0,0,106.918,-189.179,-54.0493,1.81514,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,103.901,-194.5,-54.9578,4.32842,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,71.2551,-246.144,-55.5366,4.09156,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,63.8949,-249.185,-55.0552,4.85084,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,59.7906,-248.992,-54.0533,4.72984,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,55.7535,-242.316,-53.6007,5.58505,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,56.7207,-238.084,-54.3587,1.3439,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,56.7486,-246.449,-53.4352,0.837758,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,57.455,-251.973,-53.4174,0.366519,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,63.5469,-252.569,-54.7081,0.366519,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,67.7781,-247.753,-55.2964,1.98623,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,53.5118,-249.622,-52.9581,0.802851,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,5.00858,-220.212,-52.2055,3.47481,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,9.43712,-224.578,-51.9292,0.964966,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,12.13,-225.89,-51.8221,1.91029,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,22.3773,-221.201,-53.114,1.01456,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,1.01247,-216.771,-52.9695,3.64775,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-1.96242,-211.372,-52.9039,4.5204,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,1.6678,-219.749,-52.6945,2.32129,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,3.90308,-224.145,-52.1742,1.67569,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,10.1914,-227.741,-51.7724,1.31605,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,19.6784,-227.142,-52.278,3.83149,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,7.36502,-309.685,-51.1112,4.55531,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,11.0968,-310.742,-51.1119,5.48033,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,2.38361,-311.532,-51.1185,1.71042,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-0.968268,-316.146,-50.6338,1.20428,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,16.3331,-315.152,-51.0991,4.11898,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,14.6583,-310.337,-51.3256,2.1293,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,9.24688,-308.366,-51.3423,4.19783,7200,2,0,1900,0,0,1),
(11454,429,1,0,0,57.5876,-400.81,-4.13621,2.07694,7200,2,0,7842,0,0,1),
(11451,429,1,0,0,52.2995,-397.91,-4.13716,0.523599,7200,2,0,7842,0,0,1),
(11451,429,1,0,0,61.941,-399.15,-4.13689,2.51327,7200,2,0,7842,0,0,1),
(11454,429,1,0,0,-21.4801,-401.265,-4.13795,1.27409,7200,2,0,7842,0,0,1),
(11451,429,1,0,0,-27.4422,-398.865,-4.22046,4.90128,7200,2,0,7842,0,0,1),
(11451,429,1,0,0,-14.4985,-399.14,-4.13787,2.23402,7200,2,0,7842,0,0,1),
(11454,429,1,0,0,-80.4437,-401.602,-4.13549,1.8326,7200,2,0,7842,0,0,1),
(11451,429,1,0,0,-75.5403,-395.85,-4.13737,2.54818,7200,2,0,7842,0,0,1),
(11451,429,1,0,0,-86.6004,-400.982,-4.21903,1.08976,7200,2,0,7842,0,0,1),
(11454,429,1,0,0,-17.7285,-459.476,-4.14758,4.55531,7200,2,0,7842,0,0,1),
(11451,429,1,0,0,-12.4978,-462.705,-4.15329,3.61283,7200,2,0,7842,0,0,1),
(11451,429,1,0,0,-25.777,-462.07,-4.14609,5.79449,7200,2,0,7842,0,0,1),
(11455,429,1,0,0,53.2125,-458.915,-4.13168,6.26573,7200,2,0,5490,7519,0,1),
(11473,429,1,0,0,7.15476,551.157,-23.3052,0.111138,7200,5,0,6991,0,0,1),
(11473,429,1,0,0,-38.7757,604.689,-23.3052,4.42281,7200,5,0,6991,0,0,1),
(11473,429,1,0,0,33.9748,547.044,28.6048,3.23875,7200,5,0,6991,0,0,1),
(11473,429,1,0,0,60.3375,410.765,-3.59399,4.22231,7200,5,0,6991,0,0,1),
(11473,429,1,0,0,-41.5571,610.235,-23.3052,1.09859,7200,5,0,6991,0,0,1),
(13022,429,1,0,0,-54.14,-220.836,-57.177,4.77728,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-54.2582,-223.259,-57.2345,3.52189,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-59.1212,-222.725,-57.2217,5.44105,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-62.9718,-220.366,-57.1655,5.67601,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-62.4816,-225.4,-57.2017,0.767945,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-59.6312,-229.747,-57.305,5.07891,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-54.873,-230.255,-57.4006,5.35956,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-55.9487,-225.63,-57.2907,0.44899,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-49.7393,-227.547,-57.4026,2.81523,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-50.1508,-223.593,-57.2426,0.113913,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-54.1523,-346.312,-54.1519,2.58309,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-56.9274,-344.93,-54.338,1.06465,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-57.7313,-341.407,-54.032,4.97419,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-60.2078,-339.055,-53.9214,1.6057,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-63.0057,-335.754,-53.699,4.55531,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-61.8909,-333.061,-53.1807,4.17134,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-57.3421,-331.607,-52.5392,1.90241,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-61.1368,-330.426,-52.7177,5.98648,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-65.628,-334.265,-53.7337,5.86431,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-54.4685,-349.823,-54.3427,2.94961,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-114.53,-298.031,-57.1758,2.37651,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-119.468,-295.465,-56.8971,3.50826,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-115.32,-295.053,-57.1688,3.51589,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-113.643,-286.896,-57.3958,0.44145,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-112.49,-292.047,-57.3941,3.20386,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-113.132,-297.049,-57.2797,2.96803,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-114.571,-303.104,-57.0566,0.488692,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-118.833,-302.067,-57.0399,4.88111,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-111.067,-302.288,-57.2519,0.994838,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-107.508,-295.857,-57.6574,3.88216,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-149.588,-191.55,-50.2393,4.06322,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-148.164,-194.851,-51.1721,5.45461,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-149.81,-199.836,-52.1027,2.33874,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-148.09,-204.423,-53.0782,1.0472,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-140.036,-200.326,-53.2361,0.174533,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-141.949,-193.913,-51.5956,2.64255,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-134.406,-189.794,-50.3224,6.12191,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-141.793,-189.652,-50.5362,5.3421,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-135.247,-191.384,-50.871,0.344104,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-144.024,-197.906,-52.2458,0.750492,7200,2,0,1900,0,0,1),
(13285,429,1,0,0,83.368,-204.607,-56.7146,4.13643,7200,2,0,16879,0,0,1),
(13285,429,1,0,0,42.2531,-196.094,-53.098,2.32129,7200,2,0,16879,0,0,1),
(13285,429,1,0,0,-38.4972,-194.397,-55.7837,5.37561,7200,2,0,16879,0,0,1),
(13285,429,1,0,0,-114.832,-195.776,-52.6459,0.331613,7200,2,0,16879,0,0,1),
(13285,429,1,0,0,115.866,-356.124,-54.999,4.36332,7200,2,0,16879,0,0,1),
(13285,429,1,0,0,80.1832,-334.151,-53.8089,2.1293,7200,2,0,16879,0,0,1),
(13285,429,1,0,0,40.6147,-361.182,-54.0435,1.58825,7200,2,0,16879,0,0,1),
(13285,429,1,0,0,-129.867,-334.241,-56.7992,5.16617,7200,2,0,16879,0,0,1),
(13285,429,1,0,0,14.3321,-261.833,-52.0997,4.43314,7200,2,0,16879,0,0,1),
(13285,429,1,0,0,-99.1422,-249.61,-56.6773,5.14872,7200,2,0,16879,0,0,1),
(13285,429,1,0,0,-129.888,-246.628,-54.0495,5.41052,7200,2,0,16879,0,0,1),
(11459,429,1,0,0,43.1073,219.233,-4.9858,3.11267,7200,5,0,16704,0,0,1),
(11459,429,1,0,0,101.21,330.55,-4.98576,5.40841,7200,5,0,16704,0,0,1),
(11459,429,1,0,0,-92.6434,286.583,-4.98605,4.69207,7200,5,0,16704,0,0,1),
(11459,429,1,0,0,67.1806,334.437,-4.9858,0.088779,7200,5,0,16704,0,0,1),
(11459,429,1,0,0,-86.0906,256.784,-4.98541,1.70275,7200,5,0,16704,0,0,1),
(11459,429,1,0,0,122.34,249.074,-4.98583,1.56546,7200,5,0,16704,0,0,1),
(11458,429,1,0,0,-13.5503,194.196,-3.4756,0.255774,7200,5,0,8417,0,0,1),
(11458,429,1,0,0,-3.37704,184.789,-3.4756,0.214215,7200,5,0,8417,0,0,1),
(13285,429,1,0,0,290.355,-470.042,-119.878,3.31613,7200,2,0,16879,0,0,1),
(13197,429,1,0,0,290.355,-470.042,-119.878,3.31613,7200,2,0,12954,4326,0,1),
(13022,429,1,0,0,292.697,-476.578,-119.036,5.58505,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,287.544,-479.895,-119.036,5.74213,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,299.18,-474.913,-119.036,2.80998,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,292.824,-482.119,-119.036,3.89208,7200,2,0,1900,0,0,1),
(13285,429,1,0,0,285.642,-501.949,-119.036,2.14675,7200,2,0,16879,0,0,1),
(13197,429,1,0,0,285.642,-501.949,-119.036,2.14675,7200,2,0,12954,4326,0,1),
(13022,429,1,0,0,281.187,-499.258,-119.036,0,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,289.159,-504.723,-119.036,0,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,282.743,-504.313,-119.036,0,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,288.645,-499.382,-119.036,0,7200,2,0,1900,0,0,1),
(13285,429,1,0,0,246.913,-485.775,-119.036,0,7200,2,0,16879,0,0,1),
(13197,429,1,0,0,246.913,-485.775,-119.036,0,7200,2,0,12954,4326,0,1),
(13022,429,1,0,0,245.336,-492.562,-119.036,0,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,243.656,-487.932,-119.036,5.20108,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,239.995,-491.467,-119.036,0,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,241.339,-484.667,-119.036,0,7200,2,0,1900,0,0,1),
(11444,429,1,0,0,328.938,169.844,2.85461,3.3161,7200,5,0,9808,10680,0,1),
(11444,429,1,0,0,431.546,171.163,2.85225,3.26898,7200,5,0,9808,10680,0,1),
(11441,429,1,0,0,414.897,260.269,11.2061,4.6183,7200,5,0,13920,0,0,1),
(11441,429,1,0,0,398.872,167.834,2.85043,6.04776,7200,5,0,13920,0,0,1),
(11454,429,1,0,0,55.3767,-713.761,-25.0775,3.61283,7200,2,0,7842,0,0,1),
(13160,429,1,0,0,532.729,535.458,-25.3194,4.4855,7200,2,0,835,0,0,1),
(13160,429,1,0,0,478.772,542.637,-25.2867,4.62512,7200,2,0,835,0,0,1),
(13160,429,1,0,0,506.436,541.645,-25.3052,4.55531,7200,2,0,835,0,0,1),
(13160,429,1,0,0,494.07,531.726,-25.309,4.59022,7200,2,0,835,0,0,1),
(13160,429,1,0,0,512.34,556.754,-25.3153,4.53786,7200,2,0,835,0,0,1),
(13160,429,1,0,0,479.431,534.183,-25.3003,4.62512,7200,2,0,835,0,0,1),
(13160,429,1,0,0,520.434,531.475,-25.3146,4.5204,7200,2,0,835,0,0,1),
(13160,429,1,0,0,480.378,551.968,-25.2989,4.62512,7200,2,0,835,0,0,1),
(13160,429,1,0,0,522.055,543.648,-25.3157,4.5204,7200,2,0,835,0,0,1),
(13160,429,1,0,0,533.792,552.407,-25.3194,4.50295,7200,2,0,835,0,0,1),
(13160,429,1,0,0,462.818,251.535,8.81738,4.55531,7200,2,0,835,0,0,1),
(13160,429,1,0,0,449.768,243.479,11.2977,4.66003,7200,2,0,835,0,0,1),
(13160,429,1,0,0,462.602,260.845,8.90963,4.57276,7200,2,0,835,0,0,1),
(13160,429,1,0,0,477.186,250.999,2.95125,4.43314,7200,2,0,835,0,0,1),
(13160,429,1,0,0,471.895,252.937,4.96573,4.4855,7200,2,0,835,0,0,1),
(13160,429,1,0,0,452.472,260.49,11.3032,4.64258,7200,2,0,835,0,0,1),
(13160,429,1,0,0,448.102,251.626,11.2964,4.67748,7200,2,0,835,0,0,1),
(13160,429,1,0,0,452.721,247.395,11.3001,4.64258,7200,2,0,835,0,0,1),
(13160,429,1,0,0,455.373,253.915,11.3039,4.62512,7200,2,0,835,0,0,1),
(13160,429,1,0,0,448.47,258.717,11.2989,4.67748,7200,2,0,835,0,0,1),
(13160,429,1,0,0,474.589,316.703,2.93624,4.53786,7200,2,0,835,0,0,1),
(13160,429,1,0,0,467.471,316.586,2.93625,4.59022,7200,2,0,835,0,0,1),
(13160,429,1,0,0,483.916,328.999,2.93625,4.50295,7200,2,0,835,0,0,1),
(13160,429,1,0,0,494.213,319.36,2.93623,4.45059,7200,2,0,835,0,0,1),
(13160,429,1,0,0,490.88,329.761,2.93625,4.46804,7200,2,0,835,0,0,1),
(13160,429,1,0,0,471.947,324.633,2.93626,4.57276,7200,2,0,835,0,0,1),
(13160,429,1,0,0,485.187,320.711,2.93623,4.4855,7200,2,0,835,0,0,1),
(13160,429,1,0,0,478.281,324.038,2.93625,4.53786,7200,2,0,835,0,0,1),
(13160,429,1,0,0,486.488,313.6,2.93622,4.4855,7200,2,0,835,0,0,1),
(13160,429,1,0,0,493.179,309.852,2.9362,4.43314,7200,2,0,835,0,0,1),
(13160,429,1,0,0,396.83,-98.3221,-3.80359,1.37881,7200,2,0,835,0,0,1),
(13160,429,1,0,0,400.048,-105.031,-3.80311,1.39626,7200,2,0,835,0,0,1),
(13160,429,1,0,0,403.649,-110.232,-3.80275,1.41372,7200,2,0,835,0,0,1),
(13160,429,1,0,0,414.977,-98.7456,-3.80366,1.44862,7200,2,0,835,0,0,1),
(13160,429,1,0,0,414.486,-108.624,-3.80292,1.44862,7200,2,0,835,0,0,1),
(13160,429,1,0,0,427.652,-100.825,-3.80357,1.50098,7200,2,0,835,0,0,1),
(2914,429,1,0,0,303.618,-8.67847,-3.8018,1.65407,7200,5,0,8,0,0,1),
(2914,429,1,0,0,306.238,-96.5866,-3.80362,5.97513,7200,5,0,8,0,0,1),
(14400,429,1,0,0,-102.022,696.814,-24.5819,4.94846,7200,5,0,1895,2369,0,1),
(14383,429,1,0,0,135.15,441.452,-48.4619,5.9092,7200,5,0,8774,2289,0,1),
(14369,429,1,0,0,188.172,537.305,-48.467,1.5966,7200,5,0,9034,2369,0,1),
(14369,429,1,0,0,130.955,524.283,-48.0481,1.61341,7200,5,0,9034,2369,0,1),
(14361,429,1,0,0,-86.2,228.478,-4.98579,1.84191,7200,5,0,64,0,0,1),
(11451,429,1,0,0,55.9418,-720.741,-25.0775,6.24828,7200,2,0,7842,0,0,1),
(11451,429,1,0,0,56.7221,-706.941,-25.0775,4.5204,7200,2,0,7842,0,0,1),
(11451,429,1,0,0,24.2224,-674.951,-25.1616,4.14954,7200,2,0,7842,0,0,1),
(11451,429,1,0,0,15.5073,-680.307,-25.0783,5.81195,7200,2,0,7842,0,0,1),
(11454,429,1,0,0,59.6724,-603.951,-25.1302,5.07981,7200,2,0,7842,0,0,1),
(13022,429,1,0,0,109.855,-191.323,-54.5,5.53269,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,110.761,-197.604,-55.6668,4.2586,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,126.482,-204.473,-56.2875,4.26236,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,118.605,-198.995,-55.8831,4.91481,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,115.228,-195.967,-55.6115,3.54147,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,115.228,-192.819,-55.0426,2.91091,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,118.955,-189.796,-54.6273,3.18426,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,122.508,-193.592,-55.2534,3.11933,7200,2,0,1900,0,0,1),
(13276,429,1,0,0,-1.03906,-435.259,-37.9609,5.92277,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,7.73413,-443.673,-37.8776,3.12414,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,1.53725,-438.741,-37.9606,1.07755,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,1.65759,-434.832,-37.9608,0.775787,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,7.56612,-440.69,-37.8779,3.89208,7200,2,0,3644,0,0,1),
(11457,429,1,0,0,4.60055,-437.18,-37.8782,4.27606,7200,2,0,6526,4326,0,1),
(11456,429,1,0,0,4.50979,-386.047,-58.5316,1.16937,7200,2,0,8097,0,0,1),
(11452,429,1,0,0,-96.6476,-388.518,-58.52,4.5204,7200,2,0,8283,0,0,1),
(11452,429,1,0,0,-84.0613,-392.13,-58.4799,0.959931,7200,2,0,8283,0,0,1),
(11453,429,1,0,0,-79.7413,-389.324,-58.5109,1.25664,7200,2,0,6619,3244,0,1),
(11453,429,1,0,0,-90.2836,-391.934,-58.4822,3.01942,7200,2,0,6619,3244,0,1),
(11452,429,1,0,0,-28.3503,-391.94,-58.618,2.83299,7200,2,0,8283,0,0,1),
(11452,429,1,0,0,-16.0019,-395.454,-58.5304,4.55531,7200,2,0,8283,0,0,1),
(11453,429,1,0,0,-10.3481,-393.132,-58.5304,1.90241,7200,2,0,6619,3244,0,1),
(11453,429,1,0,0,-23.6704,-398.692,-58.6164,0.80207,7200,2,0,6619,3244,0,1),
(13276,429,1,0,0,43.4029,-392.169,-58.5266,4.11898,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,34.4894,-396.159,-58.5277,1.20428,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,40.4389,-397.353,-58.5258,1.71042,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,42.2916,-388.172,-58.5281,5.48033,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,32.1917,-393.651,-58.6118,0.535442,7200,2,0,3644,0,0,1),
(11457,429,1,0,0,37.3552,-392.268,-58.5272,2.37365,7200,2,0,6526,4326,0,1),
(11452,429,1,0,0,74.9546,-417.913,-58.5995,0.030332,7200,2,0,8283,0,0,1),
(11452,429,1,0,0,70.4284,-429.825,-58.6012,0.320256,7200,2,0,8283,0,0,1),
(11453,429,1,0,0,68.7285,-422.43,-58.6015,5.77543,7200,2,0,6619,3244,0,1),
(11453,429,1,0,0,74.8293,-435.001,-58.5152,1.06465,7200,2,0,6619,3244,0,1),
(13276,429,1,0,0,-10.9179,-456.242,-58.6249,0.31074,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,-3.05802,-456.817,-58.5464,0.366519,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,-6.83229,-455.483,-58.5433,0.366519,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,-14.1565,-460.888,-58.6237,4.10695,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,-3.22096,-460.538,-58.549,1.3439,7200,2,0,3644,0,0,1),
(11457,429,1,0,0,-6.88377,-459.375,-58.5461,0.872665,7200,2,0,6526,4326,0,1),
(13276,429,1,0,0,-71.6369,-440.319,-58.6128,0.256474,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,-61.434,-444.802,-58.5307,6.16101,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,-72.5177,-436.876,-58.611,4.10582,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,-64.4045,-442.443,-58.6145,1.04908,7200,2,0,3644,0,0,1),
(13276,429,1,0,0,-70.9053,-439.957,-58.6127,0.913746,7200,2,0,3644,0,0,1),
(11457,429,1,0,0,-69.0547,-442.536,-58.6142,1.13804,7200,2,0,6526,4326,0,1),
(11452,429,1,0,0,-84.7378,-460.673,-58.5294,2.68781,7200,2,0,8283,0,0,1),
(11452,429,1,0,0,-94.5833,-466.205,-58.6246,2.23612,7200,2,0,8283,0,0,1),
(11453,429,1,0,0,-93.0634,-461.176,-58.6221,5.70493,7200,2,0,6619,3244,0,1),
(13022,429,1,0,0,111.893,-272.557,-4.10279,1.21066,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,106.298,-266.643,-3.97269,0.314159,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,110.253,-269.029,-4.08908,4.45622,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,115.432,-263.394,-4.13027,1.33576,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,111.401,-260.037,-4.09867,4.40331,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,115.729,-259.257,-4.1305,1.7137,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,110.844,-255.06,-4.09403,3.22507,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,114.94,-320.727,-4.04562,1.32645,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,112.82,-334.044,-4.13689,1.36265,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,109.902,-329.777,-4.0035,2.84489,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,115.748,-327.539,-4.14523,0.318494,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,121.124,-325.982,-4.16182,5.76204,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,116.839,-329.884,-4.14893,2.53066,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,111.065,-324.665,-4.01276,2.42601,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,40.7124,-351.442,-4.003,2.47837,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,45.7938,-349.025,-3.98307,3.21141,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,51.5748,-349.531,-3.98683,0.122173,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,39.5877,-355.57,-4.03657,0.10472,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,44.475,-354.61,-4.02848,1.5708,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,49.1207,-353.705,-4.02085,3.01942,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,53.6343,-353.286,-4.01717,3.92699,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-75.468,-349.99,-3.9886,1.71042,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-86.0241,-357.57,-4.05092,5.48033,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-88.6114,-353.518,-4.0837,5.33838,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-83.2647,-352.631,-4.07834,5.93665,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-78.0264,-346.742,-4.04545,5.75634,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-84.0316,-349.012,-4.0567,3.99263,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-80.2455,-350.76,-3.99503,1.93732,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-136,-323.641,-4.06031,4.8053,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-138.617,-328.017,-3.99383,2.25147,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-142.503,-315.225,-4.11006,1.66281,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-139.72,-320.566,-4.08884,4.80789,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-140.131,-325.933,-4.09224,5.21016,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-143.089,-330.215,-4.02938,0.959931,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-147.416,-325.322,-4.14834,1.5089,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-154.099,-195.957,-4.20064,4.23252,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-154.058,-198.694,-4.19924,2.28912,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-157.879,-198.865,-4.18982,0.402479,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-152.666,-202.802,-4.06916,3.33358,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-156.945,-201.478,-4.06936,5.21853,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-149.702,-197.893,-4.21031,5.77921,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-148.843,-200.749,-4.21083,4.27233,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,13.7675,-306.717,-51.6435,3.9968,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,-0.529834,-310.036,-51.4927,5.50781,7200,2,0,1900,0,0,1),
(13022,429,1,0,0,3.19254,-306.155,-51.7484,2.2254,7200,2,0,1900,0,0,1),
(11456,429,1,0,0,30.1011,-618.51,-25.0722,2.37365,7200,2,0,8097,0,0,1),
(11456,429,1,0,0,64.4071,-678.472,-25.0772,4.13643,7200,2,0,8097,0,0,1),
(11456,429,1,0,0,12.2163,-707.55,-25.0783,1.93732,7200,2,0,8097,0,0,1),
(11451,429,1,0,0,65.0294,-608.021,-25.0719,6.16101,7200,2,0,7842,0,0,1),
(11451,429,1,0,0,55.0125,-602.04,-25.0646,3.37677,7200,2,0,7842,0,0,1),
(14326,429,1,0,0,410.711,-3.15041,-24.558,5.28835,43200,3,0,23688,0,0,1),
(13036,429,1,0,0,404.756,9.16734,-24.9806,5.37936,7200,5,0,3758,0,0,1),
(13036,429,1,0,0,792.718,495.528,37.3182,3.61377,7200,5,0,3758,0,0,1),
(13036,429,1,0,0,778.848,490.062,35.1498,3.45469,7200,5,0,3758,0,0,1),
(13036,429,1,0,0,387.138,203.458,11.2161,4.61475,7200,5,0,3758,0,0,1),
(11454,429,1,0,0,22.7961,-680.046,-25.0783,3.89208,7200,2,0,7842,0,0,1),
(13160,429,1,0,0,424.875,-110.358,-3.80284,1.50098,7200,2,0,835,0,0,1),
(13160,429,1,0,0,437.53,-108.435,-3.80301,1.55334,7200,2,0,835,0,0,1),
(13160,429,1,0,0,445.745,-113.939,-3.80256,1.5708,7200,2,0,835,0,0,1),
(13160,429,1,0,0,444.67,-99.7554,-3.80372,1.5708,7200,2,0,835,0,0,1),
(13160,429,1,0,0,460.236,-68.9731,-3.80364,1.50098,7200,2,0,835,0,0,1),
(13160,429,1,0,0,456.683,-57.2889,-4.25341,1.50098,7200,2,0,835,0,0,1),
(13160,429,1,0,0,464.65,-53.981,-3.80318,1.55334,7200,2,0,835,0,0,1),
(13160,429,1,0,0,470.499,-60.3753,-3.80288,1.5708,7200,2,0,835,0,0,1),
(13160,429,1,0,0,470.647,-70.0009,-3.80298,1.5708,7200,2,0,835,0,0,1),
(13160,429,1,0,0,471.24,-46.8005,-3.80276,1.71042,7200,2,0,835,0,0,1),
(13160,429,1,0,0,461.868,-40.8365,-3.80336,1.65806,7200,2,0,835,0,0,1),
(13160,429,1,0,0,472.657,-33.7128,-3.80235,1.72788,7200,2,0,835,0,0,1),
(13160,429,1,0,0,460.363,-24.5369,-3.80338,1.65806,7200,2,0,835,0,0,1),
(13160,429,1,0,0,473.476,-22.8605,-3.80176,1.74533,7200,2,0,835,0,0,1);    

        -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -
        -- -- PLACE UPDATE SQL ABOVE -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
        -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -

        -- If we get here ok, commit the changes
        IF bRollback = TRUE THEN
            ROLLBACK;
            SHOW ERRORS;
            SELECT '* UPDATE FAILED *' AS `===== Status =====`,@cCurResult AS `===== DB is on Version: =====`;
        ELSE
            COMMIT;
            -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -
            -- UPDATE THE DB VERSION
            -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -
            INSERT INTO `db_version` VALUES (@cNewVersion, @cNewStructure, @cNewContent, @cNewDescription, @cNewComment);
            SET @cNewResult := (SELECT `description` FROM `db_version` WHERE `version`=@cNewVersion AND `structure`=@cNewStructure AND `content`=@cNewContent);

            SELECT '* UPDATE COMPLETE *' AS `===== Status =====`,@cNewResult AS `===== DB is now on Version =====`;
        END IF;
    ELSE    -- Current version is not the expected version
        IF (@cCurResult = @cNewResult) THEN    -- Does the current version match the new version
            SELECT '* UPDATE SKIPPED *' AS `===== Status =====`,@cCurResult AS `===== DB is already on Version =====`;
        ELSE    -- Current version is not one related to this update
            IF(@cCurResult IS NULL) THEN    -- Something has gone wrong
                SELECT '* UPDATE FAILED *' AS `===== Status =====`,'Unable to locate DB Version Information' AS `============= Error Message =============`;
            ELSE
                IF(@cOldResult IS NULL) THEN    -- Something has gone wrong
                    SET @cCurVersion := (SELECT `version` FROM `db_version` ORDER BY `version` DESC, `STRUCTURE` DESC, `CONTENT` DESC LIMIT 0,1);
                    SET @cCurStructure := (SELECT `STRUCTURE` FROM `db_version` ORDER BY `version` DESC, `STRUCTURE` DESC, `CONTENT` DESC LIMIT 0,1);
                    SET @cCurContent := (SELECT `Content` FROM `db_version` ORDER BY `version` DESC, `STRUCTURE` DESC, `CONTENT` DESC LIMIT 0,1);
                    SET @cCurOutput = CONCAT(@cCurVersion, '_', @cCurStructure, '_', @cCurContent, ' - ',@cCurResult);
                    SET @cOldResult = CONCAT('Rel',@cOldVersion, '_', @cOldStructure, '_', @cOldContent, ' - ','IS NOT APPLIED');
                    SELECT '* UPDATE SKIPPED *' AS `===== Status =====`,@cOldResult AS `=== Expected ===`,@cCurOutput AS `===== Found Version =====`;
                ELSE
                    SET @cCurVersion := (SELECT `version` FROM `db_version` ORDER BY `version` DESC, `STRUCTURE` DESC, `CONTENT` DESC LIMIT 0,1);
                    SET @cCurStructure := (SELECT `STRUCTURE` FROM `db_version` ORDER BY `version` DESC, `STRUCTURE` DESC, `CONTENT` DESC LIMIT 0,1);
                    SET @cCurContent := (SELECT `Content` FROM `db_version` ORDER BY `version` DESC, `STRUCTURE` DESC, `CONTENT` DESC LIMIT 0,1);
                    SET @cCurOutput = CONCAT(@cCurVersion, '_', @cCurStructure, '_', @cCurContent, ' - ',@cCurResult);
                    SELECT '* UPDATE SKIPPED *' AS `===== Status =====`,@cOldResult AS `=== Expected ===`,@cCurOutput AS `===== Found Version =====`;
                END IF;
            END IF;
        END IF;
    END IF;
END $$

DELIMITER ;

-- Execute the procedure
CALL update_mangos();

-- Drop the procedure
DROP PROCEDURE IF EXISTS `update_mangos`;


